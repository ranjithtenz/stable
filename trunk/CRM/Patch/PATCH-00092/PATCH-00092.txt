[{'status': 'Ready', 'modified_by': 'Administrator', 'name': 'PATCH/00092', 'parent': None, 'remarks': None, 'creation': '2010-09-23 17:48:37', 'patched_all_accounts': 'No', 'modified': '2010-10-22 15:14:24', 'module': 'CRM', 'doctype': 'Patch', 'idx': None, 'parenttype': None, 'ready_to_go': 'Yes', 'patch_code': '#add roles in Expense Voucher\n#-----------------------------------------------------------\nchk1 = sql("select name from `tabDocPerm` where parent = \'Expense Voucher\' and parentfield = \'permissions\' and parenttype = \'DocType\' and role = \'All\'")\nif not chk1  :\n  es = get_obj(\'DocType\',\'Expense Voucher\')\n  lst = [[0,0,0,1,1,1,\'owner\'],[0,1,1,0,0,0,\'\'],[1,1,0,0,0,0,\'\']]\n  for i in lst:\n    dp = addchild(es.doc,\'permissions\',\'DocPerm\',1)\n    dp.permlevel = i[0]\n    dp.role = \'All\'\n    dp.read = i[1]\n    dp.write = i[2]\n    dp.create = i[3]\n    dp.submit = i[4]\n    dp.cancel = i[5]\n    dp.match = i[6]\n    dp.save()\n    \n#add roles in Attendance\n#-----------------------------------------------------------\nchk2 = sql("select name from `tabDocPerm` where parent = \'Attendance\' and parentfield = \'permissions\' and parenttype = \'DocType\' and role like \'%HR%\'")\nif not chk2  :\n  es = get_obj(\'DocType\',\'Attendance\')\n  lst1 = [\'HR User\',\'HR Manager\']\n  for j in lst1:\n    dp = addchild(es.doc,\'permissions\',\'DocPerm\',1)\n    dp.permlevel = 0\n    dp.role = j\n    dp.read = 1\n    dp.write = 1\n    dp.create = 1\n    dp.save()  ', 'purpose': 'set roles in Expense Voucher n Attendance DocType', 'owner': 'harshada@webnotestech.com', 'docstatus': 0, 'parentfield': None}]